# Render Blueprint: inxinfo-auth-service (backend) + PostgreSQL
# Repo: inxinfo-labs / inxinfo-auth-service (or monorepo root)
# Docs: https://render.com/docs/blueprint-spec

databases:
  - name: inxinfo-db
    plan: free
    databaseName: inxinfo
    region: oregon

services:
  - type: web
    name: inxinfo-auth-service
    runtime: docker
    dockerfilePath: ./Dockerfile
    dockerContext: .
    region: oregon
    plan: free

    envVars:
      - key: SPRING_PROFILES_ACTIVE
        value: prod
      - key: DATABASE_URL
        fromDatabase:
          name: inxinfo-db
          property: connectionString
      - key: JWT_SECRET
        generateValue: true
      - key: FRONTEND_URL
        value: https://www.inxinfo.com
      - key: GOOGLE_CLIENT_ID
        sync: false
      - key: GOOGLE_CLIENT_SECRET
        sync: false
      - key: MAIL_USERNAME
        sync: false
      - key: MAIL_PASSWORD
        sync: false
      - key: RAZORPAY_KEY_ID
        sync: false
      - key: RAZORPAY_KEY_SECRET
        sync: false
